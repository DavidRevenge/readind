function dec2bin(e){return(e>>>0).toString(2)}Field={puppetMode:!0,maxNumbers:30,binMaxNumbers:0,explodedBin:[],finished:!1,printBox(e){var t=document.createElement("div");t.setAttribute("id",e),t.classList.add("box"),document.getElementById("field").appendChild(t)},printBoxes(){var e=this.binMaxNumbers.toString().length;for(i=0;i<e;i++)Field.printBox(i)},fillBoxByNumber(e){binary=dec2bin(e),this.explodedBin=binary.split("").reverse(),this.explodedBin.forEach((function(t,i){if(1===parseInt(t)){if(Field.puppetMode)var d=Field.getNumberImage(e);else d=Field.getNumberBox(e);document.getElementById(i).appendChild(d)}}))},getNumberBox(e){var t=document.createElement("span");return t.classList.add("number"),t.innerText=e,t},getNumberImage(e){var t=document.createElement("img");return t.classList.add("image"),t.setAttribute("src","images/"+e+".svg"),t},setBoxListeners(){document.querySelectorAll(".box").forEach((e=>{this.boxListener(e)}))},boxListener(e){e.addEventListener("click",(()=>{e.setAttribute("disabled","disabled"),e.classList.add("selected"),this.explodedBin[e.id]=1,document.getElementById("done").disabled=!1}))},emptyExplodedBin(){for(var e in this.explodedBin)this.explodedBin[e]=0},empty(){document.getElementById("field").innerHTML=""},init(){for(this.binMaxNumbers=dec2bin(this.maxNumbers),this.printBoxes(),i=1;i<=this.maxNumbers;i++)this.fillBoxByNumber(i);this.emptyExplodedBin(),this.setBoxListeners(),document.getElementById("done").disabled=!0},revealImage(e){var t=Field.getNumberImage(e);t.classList.add("revealed"),document.getElementById("field").appendChild(t)},start(){this.init(),document.getElementById("done").addEventListener("click",(()=>{if(!1===this.finished){this.finished=!0,this.explodedBin=this.explodedBin.reverse();var e=this.explodedBin.join(""),t=parseInt(e,2);Field.empty(),this.puppetMode?Field.revealImage(t):alert(t)}else location.reload()}))}},Field.start();